<div id="wrap-register" class="section">
    <header text="הרשמה לאתר"></header>
    <form class="mat-form-field" (ngSubmit)="register()" #registerform="ngForm">
        
        <mat-form-field>
            <mat-label>מייל</mat-label>
            <input matInput placeholder="מייל" type="email" name="email" [(ngModel)]="user.UserMail" required
            #email="ngModel" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
            <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
                <label *ngIf="email.errors?.['required']">שדה חובה</label>
                <label *ngIf="email.errors?.['pattern']">כתובת מייל לא תקינה</label>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>שם פרטי</mat-label>
            <input matInput placeholder="שם פרטי" type="text" name="first-name" [(ngModel)]="user.UserFirstName" required
            #fname="ngModel" minlength="2">
            <mat-error *ngIf="fname.invalid && (fname.dirty || fname.touched)">
                <label *ngIf="fname.errors?.['required']">שדה חובה</label>
                <label *ngIf="fname.errors?.['minlength']">שדה זה צריך להכיל לפחות 2 תווים</label>
            </mat-error>
        </mat-form-field>

        <mat-form-field>
            <mat-label>שם משפחה</mat-label>
            <input matInput placeholder="שם משפחה" type="text" name="last-name" [(ngModel)]="user.UserLastName" required
            #lname="ngModel" minlength="2">
            <mat-error *ngIf="lname.invalid && (lname.dirty || lname.touched)">
                <label *ngIf="lname.errors?.['required']">שדה חובה</label>
                <label *ngIf="lname.errors?.['minlength']">שדה זה צריך להכיל לפחות 2 תווים</label>
            </mat-error>
        </mat-form-field>
        
        <mat-form-field>
            <mat-label>טלפון</mat-label>
            <input matInput placeholder="טלפון" type="tel" name="phone" [(ngModel)]="user.UserPhone" required
            #phone="ngModel" minlength="7">
            <mat-error *ngIf="phone.invalid && (phone.dirty || phone.touched)">
                <label *ngIf="phone.errors?.['required']">שדה חובה</label>
                <label *ngIf="phone.errors?.['minlength']">שדה זה צריך להכיל לפחות 7 תווים</label>
            </mat-error>
        </mat-form-field>
        
        <mat-form-field>
            <mat-label>סיסמה</mat-label>
            <input matInput placeholder="סיסמה" type="password" name="password" [(ngModel)]="user.UserPassword" required
            #password="ngModel" minlength="6">
            <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
                <label *ngIf="password.errors?.['required']">שדה חובה</label>
                <label *ngIf="password.errors?.['minlength']">שדה זה צריך להכיל לפחות 6 תווים</label>
            </mat-error>
        </mat-form-field>
        
        <mat-form-field>
            <mat-label>אשר סיסמה</mat-label>
            <input matInput placeholder="אשר סיסמה" type="password" name="confirmPassword"
                [formControl]="confirmPasswordControl" (input)="checkValidation($event)">
                <mat-error *ngIf="confirmPasswordControl.invalid && (confirmPasswordControl.dirty || confirmPasswordControl.touched)">
                    <label *ngIf="confirmPasswordControl.errors?.['required']">שדה חובה</label>
                    <label *ngIf="confirmPasswordControl.errors?.['NotEqual']">הסיסמה שונה מהסיסמה שהזנת קודם</label>
                </mat-error>
        </mat-form-field>
        
        <mat-form-field>
            <mat-label>כתובת</mat-label>
            <input matInput placeholder="כתובת" type="text" name="address" [(ngModel)]="user.UserAdress" required
            #address="ngModel" minlength="2">
            <mat-error *ngIf="address.invalid && (address.dirty || address.touched)">
                <label *ngIf="address.errors?.['required']">שדה חובה</label>
                <label *ngIf="address.errors?.['minlength']">שדה זה צריך להכיל לפחות 2 תווים</label>
            </mat-error>
        </mat-form-field>

        <mat-radio-group dir="rtl" color="primary">
            <mat-radio-button value="Volunteer" (change)="radioChange($event)">הרשמה כמתנדב</mat-radio-button>
            <mat-radio-button value="HelpRequest" (change)="radioChange($event)">הרשמה כמבקש עזרה</mat-radio-button>
        </mat-radio-group>

        <button mat-raised-button color="primary" type="submit">הרשם</button>
        <button mat-raised-button color="primary" routerLink="/login">כבר יש לך חשבון? התחבר</button>
    </form>


</div>